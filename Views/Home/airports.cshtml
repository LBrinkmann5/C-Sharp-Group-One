@{
	ViewData["Title"] = "Airports - Southwest Airlines";
}
<!DOCTYPE html>

<html>
<body>
	<div class="container">
	<form asp-action="#" method="post">
		<label class="text-secondary">Departure: </label>
		<select id="selDepart">
			<option selected disabled>Select Airport</option>
			<!--Populate with database-->

		</select>
		<p>TO</p>
		<label class="text-secondary">Arrival: </label>
		<select id="selArrival">
			<option selected disabled>Select Airport</option>
			<!--Populate with Database-->
		</select>
		<br/>
		<label class="text-secondary">Departure Date: </label>
		<input id="departureDate" type="date"/>
		
		<label class="text-secondary">Return Date: </label>
		<input type="date" id="returnDate" min="@DateTime.Now.ToString("yyyy-MM-dd")" />
			<script>
				const unavailableDates = ["2025-05-15", "2025-05-18"];
				const todayDate = new Date();
				//const defaultDate = todayDate.setDate(todayDate.getDate() + 1);
				let defaultDate = new Date(todayDate);
				defaultDate.setDate(defaultDate.getDate() + 1);

				function formatDate(date)
					{
						return date.toISOString().slice(0,10);
					}

				while (unavailableDates.includes(formatDate(defaultDate))) 
					{
						defaultDate.setDate(defaultDate.getDate() + 1);
					}
				let returnDate = new Date(defaultDate);
				returnDate.setDate(returnDate.getDate() + 1);
				while (unavailableDates.includes(formatDate(returnDate)))
					{
						returnDate.setDate(returnDate.getDate() + 1);
					}

					//todayDate.setDate(todayDate.getDate() + 1);
				flatpickr("#departureDate", {
					defaultDate: defaultDate,
					minDate: "today",
					disable:unavailableDates,
					dateFormat: "m-d"
				});

				flatpickr("#returnDate", 
				{
					defaultDate: returnDate,
					minDate: "today",
					disable:unavailableDates,
					dateFormat: "m-d"
				});
			</script>
		<label class="text-secondary">Passengers: </label>
		<select id="selPassengerNum">
			<option selected value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="9">9</option>
		</select>
	</form>
	</div>
</body>
</html>
